(function(g,a){var e="jquery_msg____",f={duration:123,delay:3000,buttons:null,esc:-1,title:"提示",msg:"Hi!",type:"muted",zIndex:99999,position:null},d,b;$.msg=function(j,k){var i={};if($.type(j)==="object"){i=j}else{if(arguments.length===2){i.type=j;i.msg=k}else{i.msg=j}}return new c($.extend({},f,i))._init()};$.msg.defaults=f;$(document).on("mouseenter","."+e,function(){if(b){clearTimeout(b)}}).on("mouseleave","."+e,function(){if(b){clearTimeout(b)}if(d&&!d.options.buttons){b=setTimeout(function(){d.hide()},d.options.delay)}}).on("click","."+e+" button",function(i){if(d){d.hide(i)}}).keyup(function(i){if(i.which==27&&d){d.hide()}});function c(i){this.options=i}c.prototype={_init:function(){var l=this,i=l.options,k=100/(i.buttons&&i.buttons.length||1)+"%",j='<div style="display:none" class="'+e+" "+e+i.type+'">';if(i.title){j+='<div class="'+e+'title">'+i.title+"</div>"}j+='<div class="'+e+'body">'+i.msg+"</div>";if(i.buttons){l.callbacks=[];j+='<div class="'+e+'footer">';$.each(i.buttons,function(m,o){var n=h(o);j+='<button style="width:'+k+'" class="'+e+'button">'+n.key+"</button>";l.callbacks.push(n.val)});j+="</div>";l.$bg=$("<div/>").appendTo("body").css({position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:i.zIndex-1})}l.$msg=$(j+"</div>").appendTo("body");l._show();return l},_show:function(){var m=this,q=m.options,p=m.$msg,o=$(g).width(),j=$(g).height(),k=p.outerWidth(),i=p.outerHeight(),n={left:q.position&&q.position.left!==a?q.position.left:(o-k)/2,top:q.position&&q.position.top!==a?q.position.top:(j-i)/3};if(n.left<0){n.left=0}if(n.top<0){n.top=0}p.css(n);if(d){d.hide(function(){p.fadeIn(q.duration);l()})}else{p.fadeIn(q.duration);l()}function l(){d=m;p.data(e,m);if(b){clearTimeout(b)}if(!q.buttons){b=setTimeout(function(){m.hide()},q.delay)}}},hide:function(l){var k=this,j=k.options,i=k.$msg,n=$.isFunction(l),o=n?l:$.noop,m=n?a:l;if(b){clearTimeout(b)}b=0;i.stop(!0,!0).fadeOut(j.duration,function(){var q,p;i.remove();d=null;if(k.$bg){k.$bg.remove()}o();if(!n&&k.options.buttons){q=m&&$(m.target).length?$(m.target).index():j.esc;p=k.callbacks.slice(q);p=p.length?p[0]:$.noop;p()}})}};function h(k){for(var j in k){return{key:j,val:k[j]}}}})(this);