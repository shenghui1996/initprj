(function(e,d,b,h){var a="ripples";var c=null;var f={};function g(j,i){c=this;this.element=e(j);this.options=e.extend({},f,i);this._defaults=f;this._name=a;this.init()}g.prototype.init=function(){var i=this.element;i.on("mousedown touchstart",function(k){if(c.isTouch()&&k.type==="mousedown"){return}if(!(i.find(".ripple-wrapper").length)){i.append('<div class="ripple-wrapper"></div>')}var m=i.children(".ripple-wrapper");var l=c.getRelY(m,k);var n=c.getRelX(m,k);if(!l&&!n){return}var o=c.getRipplesColor(i);var j=e("<div></div>");j.addClass("ripple").css({left:n,top:l,"background-color":o});m.append(j);(function(){return d.getComputedStyle(j[0]).opacity})();c.rippleOn(i,j);setTimeout(function(){c.rippleEnd(j)},500);i.on("mouseup mouseleave touchend",function(){j.data("mousedown","off");if(j.data("animating")==="off"){c.rippleOut(j)}})})};g.prototype.getNewSize=function(i,j){return(Math.max(i.outerWidth(),i.outerHeight())/j.outerWidth())*2.5};g.prototype.getRelX=function(j,i){var k=j.offset();if(!c.isTouch()){return i.pageX-k.left}else{i=i.originalEvent;if(i.touches.length===1){return i.touches[0].pageX-k.left}return false}};g.prototype.getRelY=function(j,i){var k=j.offset();if(!c.isTouch()){return i.pageY-k.top}else{i=i.originalEvent;if(i.touches.length===1){return i.touches[0].pageY-k.top}return false}};g.prototype.getRipplesColor=function(i){var j=i.data("ripple-color")?i.data("ripple-color"):d.getComputedStyle(i[0]).color;return j};g.prototype.hasTransitionSupport=function(){var j=b.body||b.documentElement;var k=j.style;var i=(k.transition!==h||k.WebkitTransition!==h||k.MozTransition!==h||k.MsTransition!==h||k.OTransition!==h);return i};g.prototype.isTouch=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};g.prototype.rippleEnd=function(i){i.data("animating","off");if(i.data("mousedown")==="off"){c.rippleOut(i)}};g.prototype.rippleOut=function(i){i.off();if(c.hasTransitionSupport()){i.addClass("ripple-out")}else{i.animate({opacity:0},100,function(){i.trigger("transitionend")})}i.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){i.remove()})};g.prototype.rippleOn=function(i,k){var j=c.getNewSize(i,k);if(c.hasTransitionSupport()){k.css({"-ms-transform":"scale("+j+")","-moz-transform":"scale("+j+")","-webkit-transform":"scale("+j+")",transform:"scale("+j+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on")}else{k.animate({width:Math.max(i.outerWidth(),i.outerHeight())*2,height:Math.max(i.outerWidth(),i.outerHeight())*2,"margin-left":Math.max(i.outerWidth(),i.outerHeight())*(-1),"margin-top":Math.max(i.outerWidth(),i.outerHeight())*(-1),opacity:0.2},500,function(){k.trigger("transitionend")})}};e.fn.ripples=function(i){return this.each(function(){if(!e.data(this,"plugin_"+a)){e.data(this,"plugin_"+a,new g(this,i))}})}})(jQuery,window,document);