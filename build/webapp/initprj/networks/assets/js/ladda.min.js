(function(a,b){if(typeof exports==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define(["spin"],b)}else{a.Ladda=b(a.Spinner)}}}(this,function(d){var e=[];function c(i){if(typeof i==="undefined"){console.warn("Ladda button target must be defined.");return}if(!i.querySelector(".ladda-label")){i.innerHTML='<span class="ladda-label">'+i.innerHTML+"</span>"}var k=f(i);var j=document.createElement("span");j.className="ladda-spinner";i.appendChild(j);var l;var h={start:function(){i.setAttribute("disabled","");i.setAttribute("data-loading","");clearTimeout(l);k.spin(j);this.setProgress(0);return this},startAfter:function(m){clearTimeout(l);l=setTimeout(function(){h.start()},m);return this},stop:function(){i.removeAttribute("disabled");i.removeAttribute("data-loading");clearTimeout(l);l=setTimeout(function(){k.stop()},1000);return this},toggle:function(){if(this.isLoading()){this.stop()}else{this.start()}return this},setProgress:function(m){m=Math.max(Math.min(m,1),0);var n=i.querySelector(".ladda-progress");if(m===0&&n&&n.parentNode){n.parentNode.removeChild(n)}else{if(!n){n=document.createElement("div");n.className="ladda-progress";i.appendChild(n)}n.style.width=((m||0)*i.offsetWidth)+"px"}},enable:function(){this.stop();return this},disable:function(){this.stop();i.setAttribute("disabled","");return this},isLoading:function(){return i.hasAttribute("data-loading")}};e.push(h);return h}function g(m,k){k=k||{};var j=[];if(typeof m==="string"){j=a(document.querySelectorAll(m))}else{if(typeof m==="object"&&typeof m.nodeName==="string"){j=[m]}}for(var l=0,h=j.length;l<h;l++){(function(){var n=j[l];if(typeof n.addEventListener==="function"){var i=c(n);var o=-1;n.addEventListener("click",function(){i.startAfter(1);if(typeof k.timeout==="number"){clearTimeout(o);o=setTimeout(i.stop,k.timeout)}if(typeof k.callback==="function"){k.callback.apply(null,[i])}},false)}})()}}function b(){for(var j=0,h=e.length;j<h;j++){e[j].stop()}}function f(k){var i=k.offsetHeight,n;if(i>32){i*=0.8}if(k.hasAttribute("data-spinner-size")){i=parseInt(k.getAttribute("data-spinner-size"),10)}if(k.hasAttribute("data-spinner-color")){n=k.getAttribute("data-spinner-color")}var j=12,h=i*0.2,m=h*0.6,l=h<7?2:3;return new d({color:n||"#fff",lines:j,radius:h,length:m,width:l,zIndex:"auto",top:"auto",left:"auto",className:""})}function a(j){var h=[];for(var k=0;k<j.length;k++){h.push(j[k])}return h}return{bind:g,create:c,stopAll:b}}));